function log(e,o){var n={url:window.location.href,context:navigator.userAgent,level:o||DEFAULT_LOG_LEVEL,data:e};clientLogs.push(n)}function sendLogs(){return!!clientLogs.length&&(sendXHR(clientLogs),void(clientLogs=[]))}function sendXHR(e){var o=new XMLHttpRequest;o.open("POST",loggerAPIURL),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){200===o.status&&console.log(o.responseText)},o.send(JSON.stringify(e))}var clientLogs=[],MAX_LOGS_THRESHOLD_SECONDS=180,loggerTimer=setInterval(sendLogs,1e3*MAX_LOGS_THRESHOLD_SECONDS),DEFAULT_LOG_LEVEL="info",loggerAPIURL="/xhr/logger";window.onerror=function(e,o,n,r,t){var i=e.toLowerCase(),s="script error",l="";l=i.indexOf(s)>-1?"Script Error: See Browser Console for Detail":["Message: "+e,"URL: "+o,"Line: "+n,"Column: "+r,"Error object: "+JSON.stringify(t)].join(" - ");var g={url:window.location.href,context:navigator.userAgent,level:"error",data:l};sendXHR([g])},window.onbeforeunload=function(e){clearTimeout(loggerTimer),sendLogs()};